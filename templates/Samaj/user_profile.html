{% extends 'base.html' %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block content %}
<main>
    {% include 'Includes/navbar.html' %}

    <div class="container-fluid bg-light m-0">
        <div class="container py-5">
            <!-- Personal Details Card -->
            <div class="profile-card p-4">
                <h2 class="card-title">Personal Details</h2>
                <div class="row">
                    <div class="col-md-4 text-center mb-4 mb-md-0">
                        <div class="square-img-container">
                            {% if profile.profile_image %}
                            <img src="{{ profile.profile_image.url }}" alt="Profile Image" class="square-img">
                            {% else %}
                            <img src="{% static 'images/user-icon.png' %}" alt="Profile Image" class="square-img">
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="detail-label">Name</div>
                                <div class="detail-value">{{ profile.user.first_name }} {{ profile.user.first_name }}</div>

                                <div class="detail-label">Father Name</div>
                                <div class="detail-value">{{ profile.father_name }}</div>

                                <div class="detail-label">Mother Name</div>
                                <div class="detail-value">{{ profile.mother_name }}</div>

                                <div class="detail-label">Date Of Birth</div>
                                <div class="detail-value">{{ profile.date_of_birth|date:"j F Y" }}</div>

                                <div class="detail-label">Age</div>
                                <div class="detail-value">{{ user_age }}</div>

                                <div class="detail-label">Birth Place</div>
                                <div class="detail-value">{{ profile.birth_place }}</div>
                            </div>
                            <div class="col-md-6 ">
                                <div class="detail-label">Birth Time</div>
                                <div class="detail-value">{{ profile.birth_time|time:"g:i A" }}</div>

                                <div class="detail-label">Gender</div>
                                <div class="detail-value">{{ profile.get_gender_display }}</div>

                                <div class="detail-label">Marital Status</div>
                                <div class="detail-value">{{ profile.get_marital_status_display }}</div>

                                <div class="detail-label">Height (In Centimeter)</div>
                                <div class="detail-value">{{ profile.height }} cm</div>

                                <div class="detail-label">Gotra</div>
                                <div class="detail-value">{{ profile.gotra }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Details Card -->
            <div class="profile-card p-4">
                <h2 class="card-title">Contact Details</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Phone Number</div>
                        <div class="detail-value">{{ profile.phone_number }}</div>

                        <div class="detail-label">Whatsapp Number</div>
                        <div class="detail-value">{{ profile.whatsapp_number }}</div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Email</div>
                        <div class="detail-value">{{ profile.user.email }}</div>

                        <div class="detail-label">Address</div>
                        <div class="detail-value">{{ profile.current_address }}</div>
                    </div>
                </div>
            </div>

            <!-- Educational Details Card -->
            <div class="profile-card p-4">
                <h2 class="card-title">Educational Details</h2>
                <div class="row">
                    {% if profile.qualification_type == 'school' %}
                    <div class="col-md-6">
                        <div class="detail-label">School Name</div>
                        <div class="detail-value">{{ profile.qualification_detail.first.school_name }}</div>
                    </div>

                    <div class="col-md-6">
                        <div class="detail-label">Class</div>
                        <div class="detail-value">{{ profile.qualification_detail.first.school_class }}</div>
                    </div>
                    {% else %}
                    <div class="col-md-6">
                        <div class="detail-label">
                            <span>College / University</span>
                            {% if profile.qualification_type == 'graduate' %}
                                <span class="badge bg-success badge-qualification">Graduate</span>
                            {% else %}
                                <span class="badge bg-danger badge-qualification">Under Graduate</span>
                            {% endif %}
                        </div>
                        <div class="detail-value">{{ profile.qualification_detail.first.college_name }}</div>
                    </div>

                    <div class="col-md-6">
                        <div class="detail-label">Degree</div>
                        <div class="detail-value">{{ profile.qualification_detail.first.degree_name }}</div>
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- Professional Details Card -->
            <div class="profile-card p-4">
                <h2 class="card-title">Professional Details</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Occupation Type</div>
                        <div class="detail-value">{{ profile.get_occupation_type_display }}</div>

                        {% if profile.occupation_type == 'business' %}
                            <div class="detail-label">Business Name</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.business_name }}</div>
                        {% elif profile.occupation_type == 'job' %}
                            <div class="detail-label">Company Name</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.company_name }}</div>
                        {% endif %}
                    </div>
                    <div class="col-md-6">
                        {% if profile.occupation_type == 'business' %}
                        <div>
                            <div class="detail-label">Business Location</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.business_location }}</div>
                        </div>
                        <div>
                            <div class="detail-label">Business Description</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.business_description }}</div>
                        </div>
                        {% elif profile.occupation_type == 'job' %}
                        <div>
                            <div class="detail-label">Job Location</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.company_location }}</div>
                        </div>

                        <div>
                            <div class="detail-label">Job Description</div>
                            <div class="detail-value">{{ profile.occupation_detail.first.job_description }}</div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Social Media Details Card -->
            <div class="profile-card p-4">
                <h2 class="card-title">Social Media Links</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Facebook</div>
                        {% if profile.facebook_link %}
                        <div class="detail-value">
                            <a class="text-primary text-decoration-underline" target="_blank" href="{{ profile.facebook_link }}">{{ profile.facebook_link }}</a>
                        </div>

                        {% else %}
                        <div class="detail-value">None</div>
                        {% endif %}
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Instagram</div>
                        {% if profile.instagram_link %}
                        <div class="detail-value">
                            <a class="text-primary text-decoration-underline" target="_blank" href="{{ profile.instagram_link }}">{{ profile.instagram_link }}</a>
                        </div>
                        {% else %}
                        <div class="detail-value">None</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include 'Includes/footer.html' %}
</main>
{% endblock %}
