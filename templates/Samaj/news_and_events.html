{% extends 'base.html' %}
{% load static %}
{% block title %}News-Events{% endblock %}

{% block stylesheets %}
<style>
.image-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 3; /* Automatically adjusts height */
  overflow: hidden;
  border-radius: 8px;
}

.event-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
{% endblock %}

{% block content %}
<main>
    {% include 'Includes/navbar.html' %}


    <!-- Carousel Start Here -->
    <div id="banner-area" class="banner-area" style="background-image:url({% static 'images/banner/newsBanner.png' %})">
      <div class="banner-text">
        <div class="container">
            <div class="row">
              <div class="col-lg-12">
                  <div class="banner-heading">
                    <h1 class="banner-title">News</h1>
                  </div>
              </div><!-- Col end -->
            </div><!-- Row end -->
        </div><!-- Container end -->
      </div><!-- Banner text end -->
    </div>
    <!-- Carousel End Here -->

    <!-- Search Bar Start -->
    <div class="d-none d-md-block">
        <div class="main-container my-5 pt-5 row justify-content-center">
            <form id="" class="col-6" action="" method="">
                <div class="form-group">
                    <label for="search_news_events" class="w-100 text-center">
                        <h3>Search News Or Events</h3>
                    </label>
                    <div class="d-flex">
                        <div class="w-100"><input class="form-control form-control-name" name="search_news_events" id="search_news_events" placeholder="Search" type="text" required></div>
                        <button type="submit" class="btn btn-dark d-flex align-items-center py-2 rounded-0">
                            <span class="material-icons me-2">search</span> Search
                        </button>
                    </div>

                </div>
            </form>
        </div>
    </div>

    <!-- Search Bar End -->

    <section id="main-container" class="main-container">
      <div class="container">
        <div class="row justify-content-center">

          <div class="col-8 mb-5 mb-lg-0">
            {% for obj in news_and_events %}
            <div class="post">
              <div class="post-media post-image">
                <div class="image-wrapper">
                  <img loading="lazy" src="{{ obj.image.url }}" class="img-fluid rounded event-image" alt="post-image">
                </div>
              </div>

              <div class="post-body">
                <div class="entry-header">
                  <div class="post-meta">
                    <span class="post-cat">
                      <i class="far fa-folder-open"></i><a href="#"> {{ obj.get_category_display }}</a>
                    </span>
                    <span class="post-meta-date"><i class="far fa-calendar"></i> {{ obj.created_at|date:"F j, Y" }}</span>
<!--                    <span class="post-comment"><i class="far fa-comment"></i> 03<a href="#" class="comments-link">Comments</a></span>-->
                  </div>
                  <h2 class="entry-title d-flex flex-column">
                    <a href="news-single.html">{{ obj.title }}</a>
                    {% if obj.subtitle %}
                    <p class="text-muted fw-normal">{{ obj.subtitle }}</p>
                    {% endif %}
                  </h2>

                </div><!-- header end -->

                <div class="entry-content">
                  <p>{{ obj.content|truncatewords:60 }}</p>
                </div>

                <div class="post-footer">
                  <a href="{% url 'samaj:news_events_detail' obj.slug %}" class="btn btn-primary">Continue Reading</a>
                </div>

              </div><!-- post-body end -->
            </div><!-- 1st post end -->
            {% endfor %}

            <nav class="paging" aria-label="Page navigation example">
              <ul class="pagination">
                <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-double-left"></i></a></li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-double-right"></i></a></li>
              </ul>
            </nav>

          </div><!-- Content Col end -->
        </div><!-- Main row end -->

      </div><!-- Container end -->
    </section>


    {% include 'Includes/footer.html' %}
</main>
{% endblock %}